!function(a,b){function c(c){"use strict";function M(a,b,c,d){this.cx=3*a,this.bx=3*(c-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*b,this.by=3*(d-b)-this.cy,this.ay=1-this.cy-this.by}var r,s,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,d=b.getElementById(c.id),e=d.children,f=e.length,g=f,h=c.slideTime||800,i=c.effect||{},j=c.currentPage||0,k={},l={},m={},n=[],o=[],p=[],q=[],t=" ",u=null,v=!1,w=!1;if(e&&1!==f){for(c.mode&&(w=-1!==c.mode.indexOf("nav:"),q=c.mode.split(","),r=q.length),y=0;f>y;y++)n.push(e[y].style),o.push(+e[y].getAttribute("data-step")||0),p.push(0);if(k={addEventListener:!!a.addEventListener,gravity:!!a.DeviceOrientationEvent,touch:"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch,version:function(){var c,a=navigator.userAgent,b=a.indexOf("Android");return z=-1!==a.indexOf("QQBrowser")?200:0,-1!==b&&(c=a.substring(b+7,b+11).replace(" ","")),c||0}(),cssCore:function(a){switch(!0){case""===a.webkitTransition:return"webkit";case""===a.MozTransition:return"Moz";case""===a.msTransition:return"ms";case""===a.OTransition:return"O";default:return""}}(b.createElement("Chriswang").style)},M.prototype={epsilon:.01,sampleCurveX:function(a){return((this.ax*a+this.bx)*a+this.cx)*a},sampleCurveY:function(a){return((this.ay*a+this.by)*a+this.cy)*a},sampleCurveDerivativeX:function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},solveCurveX:function(a,b){var c,d,e,f,g,h;for(e=a,h=0;8>h;h++){if(f=this.sampleCurveX(e)-a,Math.abs(f)<b)return e;if(g=this.sampleCurveDerivativeX(e),Math.abs(g)<b)break;e-=f/g}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c;){if(f=this.sampleCurveX(e),Math.abs(f-a)<b)return e;a>f?c=e:d=e,e=.5*(d-c)+c}return e},solve:function(a,b){return this.sampleCurveY(this.solveCurveX(a,b))}},A=function(){l={X:b.documentElement.clientWidth||a.innerWidth,Y:b.documentElement.clientHeight||a.innerHeight},d.style.height=l.Y+"px"},B=function(a,b,c,d){m.A=a,m.B=b,m.C=c,m.D=d},"string"==typeof c.easing)switch(c.easing){case"ease":B(.25,.1,.25,1);break;case"linear":B(0,0,1,1);break;case"ease-in":B(.42,0,1,1);break;case"ease-out":B(0,0,.58,1);break;case"ease-in-out":B(.42,0,.58,1)}else B(c.easing[0],c.easing[1],c.easing[2],c.easing[3]);if(""!==k.cssCore){for(;g--;)n[g][k.cssCore+"TransitionTimingFunction"]="cubic-bezier("+m.A+","+m.B+","+m.C+","+m.D+")";C=function(a,b,c,d){var e=a.style,f="translate("+b+"px,"+c+"px) translateZ(0)",g=arguments[4];g.scale&&(f+=0===d?" scale("+g.scale[0]+")":" scale("+g.scale[1]+")"),g.rotate&&(f+=0===d?" rotate("+g.rotate[0]+"deg)":" rotate("+g.rotate[1]+"deg)"),e[k.cssCore+"TransformOrigin"]="50% 50%",e[k.cssCore+"Transform"]=f}}else x=new M(m.A,m.B,m.C,m.D),C=function(a,b,c,d){var p,e=a.currentStyle,f=a.style,g=parseInt(f.left||e.left,10),h=parseInt(f.top||e.top,10),j=b-g,k=c-h,l=+new Date,m=l+d,n=0,o=i.opacity;clearInterval(u),u=setInterval(function(){var a;+new Date>m?(a=o?"left:"+b+"px;top:"+c+"px;filter:alpha(opacity="+100*o[1]+");":"left:"+b+"px;top:"+c+"px;",clearInterval(u)):(p=m-new Date,n=p/d,n=x.solve(1-n,M.prototype.epsilon),a="left:"+(g+j*n)+"px;top:"+(h+k*n)+"px;",o&&(a+="filter:alpha(opacity="+~~(100*(o[1]*n-o[0]*(1-n)))+");")),f.cssText=a},13)};for(D={transform:function(a,b,c){var d=0,f=""!==k.cssCore||"none"!==a["translate"]&&a.translate?z:-50;switch(a["translate"]){case"Y":d=c>b?l.Y:-l.Y,C(e[c],0,d,0,a);break;case"X":d=c>b?l.X:-l.X,C(e[c],d,0,0,a);break;case"XY":d={X:c>b?l.X:-l.X,Y:c>b?l.Y:-l.Y},C(e[c],d.X,d.Y,0,a);break;default:C(e[c],0,0,0,a)}setTimeout(function(){C(e[c],0,0,h,a)},f+50)},opacity:function(a,b,c){var d=e[c].style;d.opacity=a[0],setTimeout(function(){d.opacity=a[1]},70)}},F=k.addEventListener&&k.touch?navigator.userAgent.indexOf("Firefox")?function(a,b){a.addEventListener("click",b,!1)}:function(a,b){a.addEventListener("touchstart",b,!1),arguments[2]&&a.addEventListener("touchmove",function(a){a.preventDefault()},!1)}:function(a,b){a.onclick=b},H=function(a,b,c){var f,d=a.className,e=[];if(-1!==d.indexOf(b)){for(e=d.split(t),f=e.length;f--;)e[f]===b&&(c===t||""===c?e.splice(f,1):e[f]=c);e.length?a.className=e.join(t):(a.removeAttribute("class"),a.removeAttribute("className"))}},w&&(K=function(a,b){var c=s[b].className;H(s[a],"active",t),s[b].className=""===c?"active":c+" active"}),c.continuous&&(I=function(a){var b=f;if(arguments[1])if(a>=f)for(;b--;)p[b]=0;else if(0>a)for(;b--;)p[b]=o[b];return(f+a%f)%f}),E=function(a){var b=p[j],c=b+a;return c>=0&&c<=o[j]?0===c?(H(e[j],"step1",""),p[j]=c,!1):1===c&&0===b?(e[j].className+=" step1",p[j]=c,!1):(H(e[j],"step"+b,"step"+c),p[j]=c,!1):!0},G=function(){var a=e[j].getAttribute("data-step-restart");null!=a&&(a=+a>o[j]?o[j]:+a,0===a?H(e[j],"step"+p[j],""):H(e[j],"step"+p[j],"step"+a),p[j]=a)},J=function(a){var g,l,b=function(a){return-1!==a.indexOf("Mac OS")}(navigator.userAgent),d=z;if(!(c.beforeChange&&"stop"===c.beforeChange(j,e[j])||v||a===j)){if(c.continuous)a=I(a,1);else if(a>=f&&p[j]>=o[j]||0>a&&0===p[j])return;if(v=!0,!arguments[1]&&!E(a-j))return setTimeout(function(){v=!1},h);for(l in i)D[l](i[l],j,a);d+=""===k.cssCore?20:0,g=j,j=a,w&&K(g,j),setTimeout(function(){e[a].className+=" slide"},d),setTimeout(function(){n[a][k.cssCore+"TransitionDuration"]=h+"ms"},20),setTimeout(function(){G(),H(e[g],"current",""),H(e[j],"slide","current"),c.callback&&c.callback(j,e[j]),b?setTimeout(function(){v=!1},500):v=!1},h+z+120)}},A(),y=e[j].className,e[j].className=-1!==y.indexOf("current")?y:y+" current",k.addEventListener?a.addEventListener("resize",A,!1):a.onresize=A;r--;)!function(g){switch(!0){case"wheel"===g:L=function(b){var c;b=b||a.event,b.preventDefault?b.preventDefault():b.returnValue=!1,v||(c=-b.wheelDelta||b.detail,c=0>c?-1:1,J(j+c))},k.addEventListener&&b.addEventListener("DOMMouseScroll",L,!1),a.onmousewheel=b.onmousewheel=L;break;case"touch"===g:if(!k.addEventListener)break;!function(){var C,D,F,J,L,M,O,P,m=i.transform.scale[0],q=i.transform.scale[1]-m,r=i.transform.rotate[0],s=i.transform.rotate[1]-r,t=i.opacity[0],u=i.opacity[1]-t,x={},y={},z={},A=!1,B=-1!=navigator.userAgent.indexOf("Windows Phone");O=!k.touch&&B?a.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"pointerDown",move:"pointerMove",end:"pointerUp"}:{start:"touchstart",move:"touchmove",end:"touchend"},O&&(b.body.ontouchmove=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},"Y"===i.transform.translate?(F=function(){var a=j-1,b=j+1;c.continuous&&(a=I(a),b=I(b)),C=n[a],D=n[b],C&&(C[k.cssCore+"TransitionDuration"]="0ms",C[k.cssCore+"Transform"]="translate(0,-"+l.Y+"px) translateZ(0)",C[k.cssCore+"TransformOrigin"]="50% 100%",e[a].className+=" swipe"),D&&(D[k.cssCore+"TransitionDuration"]="0ms",D[k.cssCore+"Transform"]="translate(0,"+l.Y+"px) translateZ(0)",D[k.cssCore+"TransformOrigin"]="50% 0%",e[b].className+=" swipe")},M=function(a){var b=Math.abs(a.y/l.Y),c=" scale("+~~(100*(m+q*b))/100+") rotate("+~~(r+s*b)+"deg)";C&&a.y>0&&(C.opacity=~~(100*(t+u*b))/100,C[k.cssCore+"Transform"]="translate(0,"+~~(a.y-l.Y)+"px) translateZ(0)"+c),D&&a.y<0&&(D.opacity=~~(100*(t+u*b))/100,D[k.cssCore+"Transform"]="translate(0,"+~~(l.Y+a.y)+"px) translateZ(0)"+c)},J=function(a,b){var d=h>>1,f=j+b;c.continuous&&(f=I(f)),H(e[f],"swipe","slide"),a.opacity=1,a[k.cssCore+"TransitionDuration"]=d+"ms",a[k.cssCore+"Transform"]="translate(0,"+b*l.Y+"px) translateZ(0)",setTimeout(function(){H(e[f],"slide",""),setTimeout(function(){v=!1},50)},d)},L=function(a,b){var i,l,d=j+b,g=~~(h/1.5);return c.continuous?(d=I(d),i=e[I(j-b)],l=!0):i=e[j-b],i&&H(i,"swipe",""),!l&&0>d||d>f-1?(setTimeout(function(){v=!1},50),void 0):(w&&K(j,d),a.opacity=1,H(e[d],"swipe","slide"),a[k.cssCore+"TransitionDuration"]=g+"ms",a[k.cssCore+"Transform"]="translate(0,0) translateZ(0)",setTimeout(function(){G(),H(e[j],"current",""),H(e[d],"slide","current"),j=d,c.callback&&c.callback(j,e[j]),setTimeout(function(){v=!1},50)},g),void 0)}):(F=function(){var a=j-1,b=j+1;c.continuous&&(a=I(a),b=I(b)),C=n[a],D=n[b],C&&(C[k.cssCore+"TransitionDuration"]="0ms",C[k.cssCore+"Transform"]="translate(-"+l.X+"px,0) translateZ(0)",C[k.cssCore+"TransformOrigin"]="100% 50%",e[a].className+=" swipe"),D&&(D[k.cssCore+"TransitionDuration"]="0ms",D[k.cssCore+"Transform"]="translate("+l.X+"px,0) translateZ(0)",D[k.cssCore+"TransformOrigin"]="0 50%",e[b].className+=" swipe")},M=function(a){var b=Math.abs(a.x/l.X),c=" scale("+~~(100*(m+q*b))/100+") rotate("+~~(r+s*b)+"deg)";C&&a.x>0&&(C.opacity=~~(100*(t+u*b))/100,C[k.cssCore+"Transform"]="translate("+~~(a.x-l.X)+"px,0) translateZ(0)"+c),D&&a.x<0&&(D.opacity=~~(100*(t+u*b))/100,D[k.cssCore+"Transform"]="translate("+~~(l.X+a.x)+"px,0) translateZ(0)"+c)},J=function(a,b){var d=h>>1,f=j+b;c.continuous&&(f=I(f)),H(e[f],"swipe","slide"),a.opacity=1,a[k.cssCore+"TransitionDuration"]=d+"ms",a[k.cssCore+"Transform"]="translate("+b*l.X+"px,0) translateZ(0)",setTimeout(function(){H(e[f],"slide",""),setTimeout(function(){v=!1},50)},d)},L=function(a,b){var i,l,d=j+b,g=~~(h/1.5);return c.continuous?(d=I(d),i=e[I(j-b)],l=!0):i=e[j-b],i&&H(i,"swipe",""),!l&&0>d||d>f-1?(setTimeout(function(){v=!1},50),void 0):(w&&K(j,d),H(e[d],"swipe","slide"),a.opacity=1,a[k.cssCore+"TransitionDuration"]=g+"ms",a[k.cssCore+"Transform"]="translate(0,0) translateZ(0)",setTimeout(function(){G(),H(e[j],"current",""),H(e[d],"slide","current"),j=d,c.callback&&c.callback(j,e[j]),setTimeout(function(){v=!1},50)},g),void 0)}),x={start:function(a){var b=a.touches?a.touches[0]:a;if(!v){if(v=!0,y={x:b.pageX,y:b.pageY,time:+new Date},c.onSwipeStart&&"stop"===c.onSwipeStart(j,e[j]))return v=!1;z={},A=!1,F(),d.addEventListener(O.move,x.move,!1),d.addEventListener(O.end,x.end,!1)}},move:function(a){var d,b=a.touches?a.touches[0]:a;if(a.preventDefault(),!k.touch||!(event.touches.length>1||event.scale&&1!==event.scale))if(z={x:b.pageX-y.x,y:b.pageY-y.y},A){if(d="X"===c.effect.transform["translate"]?z.x<0?1:-1:z.y<0?1:-1,p[j]+d>=0&&p[j]+d<=o[j])return;P&&M(z)}else P=Math.abs(z.x)>Math.abs(z.y)?"X":"Y",P=P===c.effect.transform["translate"],A=!0},end:function(a){var b=a.changedTouches?a.changedTouches[0]:a,f=+new Date-y.time,g={},h=0,i=!1;switch(z={x:b.pageX-y.x,y:b.pageY-y.y},g={x:Math.abs(z.x),y:Math.abs(z.y)},c.effect.transform["translate"]){case"Y":i=250>+f&&g.y>30||g.y>.3*l.Y,h=z.y>0?-1:1;break;case"X":i=250>+f&&g.x>30||g.x>.3*l.X,h=z.x>0?-1:1;break;default:i=350>+f&&g.y+g.x>50||g.y>.3*l.Y||g.x>.3*l.X,h=g.x>g.y?z.x>0?-1:1:z.y>0?-1:1}i&&P&&E(h)&&(c.continuous!==!1||(C||-1!==h)&&(D||1!==h))?c.beforeChange&&"stop"===c.beforeChange(j,e[j])?(C&&J(C,-1),D&&J(D,1)):-1===h?L(C,-1):L(D,1):(C&&J(C,-1),D&&J(D,1)),d.removeEventListener(O.move,x.move,!1),d.removeEventListener(O.end,x.end,!1)}},d.addEventListener(O.start,x.start,!1))}();break;case-1!==g.indexOf("nav:"):!function(){var e,f,h,c=g.split(":")[1],d=b.getElementById(c);if(s=d.children,e=s.length,h=s[j].className,d&&s){for(;e--;)s[e].setAttribute("data-pageChildren",e);-1===h.indexOf("active")&&(s[j].className=""===h?"active":h+" active"),f=function(b){var c;for(b=b||a.event,b=b.target||b.srcElement,c=b.tagName.toLowerCase();"li"!==c;){if("ul"===c)return;b=b.parentNode,c=b.tagName.toLowerCase()}J(+b.getAttribute("data-pageChildren"),1)},F(d,f,1)}}()}}(q[r]);return{currentPage:function(){return j},go:function(a){J(a)},next:function(){J(j+1)},prev:function(){J(j-1)}}}}"object"==typeof exports?module.exports=c:"function"==typeof define&&define.amd?define([],function(){return c}):a.FullPage=c}(window,document);